{"ast":null,"code":"var _jsxFileName = \"C:\\\\Vroom\\\\VroomERPFE\\\\src\\\\pages\\\\AcquistiPages.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from '../api/axiosInstance';\nimport { useNavigate } from 'react-router-dom';\nimport './AcquistiPage.css';\nimport { toast } from 'react-toastify';\nimport BackToDashboard from './BackToDashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AcquistiPage = () => {\n  _s();\n  const [acquisti, setAcquisti] = useState([]);\n  const [spesaTotale, setSpesaTotale] = useState(0);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    axios.get('/acquisti/findAcquistiByUserId', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      if (res.data.errorCode === 0) {\n        setAcquisti(res.data.acquistiBeanList || []);\n        setSpesaTotale(res.data.spesaTotale || 0);\n      } else {\n        toast.error(\"Errore: \" + res.data.errorMessage);\n      }\n    }).catch(() => toast.error(\"Errore di rete durante il recupero degli acquisti\"));\n  }, [navigate]);\n  const renderMezzo = mezzo => {\n    if (!mezzo) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mezzo-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Marca:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 12\n        }, this), \" \", mezzo.marca]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Modello:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 12\n        }, this), \" \", mezzo.modello]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Targa:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 12\n        }, this), \" \", mezzo.targa]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Colore:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 12\n        }, this), \" \", mezzo.colore]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Prezzo:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 12\n        }, this), \" \\u20AC\", mezzo.prezzo]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Anno Immatricolazione:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 12\n        }, this), \" \", mezzo.annoImmatricolazione]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"acquisti-container\",\n    children: [/*#__PURE__*/_jsxDEV(BackToDashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"acquisti-title\",\n      children: \"I tuoi Acquisti\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), acquisti.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-acquisti\",\n      children: \"Nessun acquisto effettuato.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this) : acquisti.map((acq, idx) => {\n      let tipo = '';\n      let mezzo;\n      if (acq.autoBean) {\n        tipo = 'Auto';\n        mezzo = acq.autoBean.mezzoBean;\n      } else if (acq.motoBean) {\n        tipo = 'Moto';\n        mezzo = acq.motoBean.mezzoBean;\n      } else if (acq.tirBean) {\n        tipo = 'Tir';\n        mezzo = acq.tirBean.mezzoBean;\n      }\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"acquisto-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"acquisto-header\",\n          children: [\"Acquisto \", tipo]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this), renderMezzo(mezzo)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this);\n    }), acquisti.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spesa-totale\",\n      children: [\"Totale speso: \\u20AC\", spesaTotale.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(AcquistiPage, \"qBCFwdbtJbg6mhUM7W9cCmO5M0w=\", false, function () {\n  return [useNavigate];\n});\n_c = AcquistiPage;\nexport default AcquistiPage;\nvar _c;\n$RefreshReg$(_c, \"AcquistiPage\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","toast","BackToDashboard","jsxDEV","_jsxDEV","AcquistiPage","_s","acquisti","setAcquisti","spesaTotale","setSpesaTotale","navigate","token","localStorage","getItem","get","headers","Authorization","then","res","data","errorCode","acquistiBeanList","error","errorMessage","catch","renderMezzo","mezzo","className","children","fileName","_jsxFileName","lineNumber","columnNumber","marca","modello","targa","colore","prezzo","annoImmatricolazione","length","map","acq","idx","tipo","autoBean","mezzoBean","motoBean","tirBean","toFixed","_c","$RefreshReg$"],"sources":["C:/Vroom/VroomERPFE/src/pages/AcquistiPages.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from '../api/axiosInstance';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './AcquistiPage.css';\r\nimport { toast } from 'react-toastify';\r\nimport BackToDashboard from './BackToDashboard';\r\n\r\ninterface MezzoBean {\r\n  marca: string;\r\n  modello: string;\r\n  targa: string;\r\n  colore: string;\r\n  prezzo: number;\r\n  annoImmatricolazione: number;\r\n}\r\n\r\ninterface AutoBean {\r\n  mezzoBean: MezzoBean;\r\n}\r\n\r\ninterface MotoBean {\r\n  mezzoBean: MezzoBean;\r\n}\r\n\r\ninterface TirBean {\r\n  mezzoBean: MezzoBean;\r\n}\r\n\r\ninterface Acquisto {\r\n  autoBean?: AutoBean;\r\n  motoBean?: MotoBean;\r\n  tirBean?: TirBean;\r\n}\r\n\r\nconst AcquistiPage: React.FC = () => {\r\n  const [acquisti, setAcquisti] = useState<Acquisto[]>([]);\r\n  const [spesaTotale, setSpesaTotale] = useState<number>(0);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    axios.get('/acquisti/findAcquistiByUserId', {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    })\r\n      .then(res => {\r\n        if (res.data.errorCode === 0) {\r\n          setAcquisti(res.data.acquistiBeanList || []);\r\n          setSpesaTotale(res.data.spesaTotale || 0);\r\n        } else {\r\n          toast.error(\"Errore: \" + res.data.errorMessage);\r\n        }\r\n      })\r\n      .catch(() => toast.error(\"Errore di rete durante il recupero degli acquisti\"));\r\n  }, [navigate]);\r\n\r\n  const renderMezzo = (mezzo: MezzoBean | undefined) => {\r\n    if (!mezzo) return null;\r\n    return (\r\n      <div className=\"mezzo-info\">\r\n        <p><strong>Marca:</strong> {mezzo.marca}</p>\r\n        <p><strong>Modello:</strong> {mezzo.modello}</p>\r\n        <p><strong>Targa:</strong> {mezzo.targa}</p>\r\n        <p><strong>Colore:</strong> {mezzo.colore}</p>\r\n        <p><strong>Prezzo:</strong> €{mezzo.prezzo}</p>\r\n        <p><strong>Anno Immatricolazione:</strong> {mezzo.annoImmatricolazione}</p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"acquisti-container\">\r\n      <BackToDashboard />\r\n      <h2 className=\"acquisti-title\">I tuoi Acquisti</h2>\r\n\r\n      {acquisti.length === 0 ? (\r\n        <div className=\"no-acquisti\">Nessun acquisto effettuato.</div>\r\n      ) : (\r\n        acquisti.map((acq, idx) => {\r\n          let tipo = '';\r\n          let mezzo: MezzoBean | undefined;\r\n\r\n          if (acq.autoBean) {\r\n            tipo = 'Auto';\r\n            mezzo = acq.autoBean.mezzoBean;\r\n          } else if (acq.motoBean) {\r\n            tipo = 'Moto';\r\n            mezzo = acq.motoBean.mezzoBean;\r\n          } else if (acq.tirBean) {\r\n            tipo = 'Tir';\r\n            mezzo = acq.tirBean.mezzoBean;\r\n          }\r\n\r\n          return (\r\n            <div className=\"acquisto-card\" key={idx}>\r\n              <div className=\"acquisto-header\">Acquisto {tipo}</div>\r\n              {renderMezzo(mezzo)}\r\n            </div>\r\n          );\r\n        })\r\n      )}\r\n\r\n      {acquisti.length > 0 && (\r\n        <div className=\"spesa-totale\">\r\n          Totale speso: €{spesaTotale.toFixed(2)}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AcquistiPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}